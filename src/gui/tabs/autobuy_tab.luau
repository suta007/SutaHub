--!strict
-- src/gui/tabs/autobuy_tab.luau

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á Type ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ main.luau ‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô init ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ
export type TabModule = {
    init: (Window: any, Fluent: any) -> ()
}

local AutoBuyTab: TabModule = {} :: TabModule

function AutoBuyTab.init(Window: any, Fluent: any)
    -- 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Tab ‡πÉ‡∏´‡∏°‡πà‡∏ö‡∏ô Window
    local Tab = Window:AddTab({
        Title = "Auto Buy",
        Icon = "shopping-cart" -- ‡∏≠‡∏¥‡∏á‡∏ï‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á Lucide ‡∏ó‡∏µ‡πà Fluent ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö
    })

    -- ==========================================
    -- üåü ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 1: Section ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏°‡∏•‡πá‡∏î‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå (‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô Default)
    -- ==========================================
    local SeedSection = Tab:AddCollapsibleSection("‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏°‡∏•‡πá‡∏î‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå (Seeds)", true)

    -- ‡∏™‡∏£‡πâ‡∏≤‡∏á UI ‡πÑ‡∏ß‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô Section ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ SeedSection ‡∏ó‡∏µ‡πà‡∏û‡∏µ‡πà‡πÄ‡∏≠‡∏ü‡∏ó‡∏≥ Wrapper ‡πÑ‡∏ß‡πâ
    local SeedDropdown = SeedSection:AddDropdown("SelectedSeed", {
        Title = "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡πÄ‡∏°‡∏•‡πá‡∏î",
        Values = {"Apple Seed", "Orange Seed", "Mango Seed", "Banana Seed"},
        Multi = false,
        Default = 1,
    })

    local AmountSlider = SeedSection:AddSlider("BuyAmount", {
        Title = "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠",
        Description = "‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏°‡∏•‡πá‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö",
        Default = 10,
        Min = 1,
        Max = 100,
        Rounding = 0
    })

    local AutoBuyToggle = SeedSection:AddToggle("EnableAutoBuy", {
        Title = "‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏∞‡∏ö‡∏ö Auto Buy",
        Default = false
    })

    -- ‡∏Å‡∏≤‡∏£‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö Event ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏î‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå
    AutoBuyToggle:OnChanged(function(Value: boolean)
        if Value then
            local seedType = SeedDropdown.Value
            local amount = AmountSlider.Value
            print(`üõí SutaHub: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ã‡∏∑‡πâ‡∏≠ {seedType} ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô {amount} ‡∏ä‡∏¥‡πâ‡∏ô...`)
            
            -- [!] ‡∏û‡∏µ‡πà‡πÄ‡∏≠‡∏ü‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏≠‡∏≤ Logic ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡πÉ‡∏ô‡πÄ‡∏Å‡∏° Grow a Garden ‡∏°‡∏≤‡πÉ‡∏™‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞
        else
            print("üõí SutaHub: ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö Auto Buy ‡πÅ‡∏•‡πâ‡∏ß")
        end
    end)


    -- ==========================================
    -- üåü ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 2: Section ‡∏ã‡∏∑‡πâ‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå (‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏õ‡∏¥‡∏î‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô Default ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà)
    -- ==========================================
    local ToolsSection = Tab:AddCollapsibleSection("‡∏ã‡∏∑‡πâ‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå (Tools)", false)
    
    ToolsSection:AddButton({
        Title = "‡∏ã‡∏∑‡πâ‡∏≠‡∏ö‡∏±‡∏ß‡∏£‡∏î‡∏ô‡πâ‡∏≥ (Watering Can)",
        Description = "‡∏£‡∏≤‡∏Ñ‡∏≤: 50 Coins",
        Callback = function()
            print("üí¶ ‡∏ã‡∏∑‡πâ‡∏≠‡∏ö‡∏±‡∏ß‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!")
        end
    })
    
    -- ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô AddDivider ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏Ñ‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏µ‡πà‡πÄ‡∏≠‡∏ü‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ß‡πâ
    ToolsSection:AddDivider()
    
    ToolsSection:AddButton({
        Title = "‡∏ã‡∏∑‡πâ‡∏≠‡∏õ‡∏∏‡πã‡∏¢ (Fertilizer)",
        Description = "‡∏£‡∏≤‡∏Ñ‡∏≤: 20 Coins",
        Callback = function()
            print("‚ú® ‡∏ã‡∏∑‡πâ‡∏≠‡∏õ‡∏∏‡πã‡∏¢‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!")
        end
    })
    
    ToolsSection:AddSpacer(20) -- ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
end

return AutoBuyTab